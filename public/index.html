<!DOCTYPE HTML>
<html>
 <head>
   <script src="bower_components/webcomponentsjs/webcomponents.min.js"></script>
   <link href="bower_components/core-ajax/core-ajax.html" rel="import">
 </head>
 
  <body unresolved>
  <h1>
    This page grabs from the api using polymer.
  </h1>

  <core-ajax
             auto 
             url="http://localhost:3000/api/todoItems"
             handleAs="json">
  </core-ajax>
   
  <template repeat="{{response}}">
    <div>{{text}}</div>
      <div>{{createdAt}}</div>
        <div>{{isDone}}</div>
  </template>
  
  <script>
    document.addEventListener('polymer-ready', function() {
      var ajax = document.querySelector('core-ajax');
      ajax.addEventListener("core-response", 
        function(e) {
          document.querySelector('template').model = {
            response: e.detail.response
          };
        }
      );
    });
  </script>

  </body>
</html>